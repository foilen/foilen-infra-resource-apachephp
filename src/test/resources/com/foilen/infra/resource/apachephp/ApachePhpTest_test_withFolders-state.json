{
  "resources" : [ {
    "resource" : "ApachePhp | myphp | Apache and PHP application",
    "links" : [ {
      "type" : "INSTALLED_ON",
      "to" : "Machine | h1.example.com | h1.example.com (192.168.0.200)"
    }, {
      "type" : "MANAGES",
      "to" : "Application | myphp | Apache and PHP application"
    }, {
      "type" : "RUN_AS",
      "to" : "UnixUser | myphp | /home/myphp"
    }, {
      "type" : "USES",
      "to" : "ApachePhpFolder | the_uid | /home/myphp/other -> /other"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"basePath\" : \"/home/myphp/www\",\n  \"name\" : \"myphp\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"Apache and PHP application\",\n  \"resourceEditorName\" : \"Apache PHP\",\n  \"resourceName\" : \"myphp\"\n}"
  }, {
    "resource" : "ApachePhpFolder | the_uid | /home/myphp/other -> /other",
    "links" : [ ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"alias\" : \"/other\",\n  \"folder\" : \"/home/myphp/other\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"/home/myphp/other -> /other\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"the_uid\",\n  \"uid\" : \"the_uid\"\n}"
  }, {
    "resource" : "Application | infra_web-h1_example_com | Web HA Proxy for h1.example.com",
    "links" : [ {
      "type" : "INSTALLED_ON",
      "to" : "Machine | h1.example.com | h1.example.com (192.168.0.200)"
    }, {
      "type" : "RUN_AS",
      "to" : "UnixUser | infra_web | /home/infra_web"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"applicationDefinition\" : {\n    \"_nextAssetId\" : 2,\n    \"assetsBundles\" : [ {\n      \"assetsFolderPath\" : \"_assets_1/\",\n      \"assetsRelativePathAndBinaryContent\" : [ ],\n      \"assetsRelativePathAndTextContent\" : [ {\n        \"a\" : \"/haproxy.cfg\",\n        \"b\" : \"global\\n  user haproxy\\n  group haproxy\\n  tune.ssl.default-dh-param 1024\\n\\ndefaults\\n  timeout connect 5000\\n  timeout client 50000\\n  timeout server 50000\\n\\nfrontend port_8080\\n  mode http\\n  option forwardfor\\n  option http-server-close\\n  bind *:8080\\n  reqadd X-Forwarded-Proto:\\\\ http\\n\\n  acl http_8080_myphp.example.com hdr(host) -i myphp.example.com\\n\\n  use_backend http_8080_myphp.example.com if http_8080_myphp.example.com\\n\\nbackend http_8080_myphp.example.com\\n  option httpclose\\n  option forwardfor\\n  mode http\\n  server http_8080_myphp.example.com_1 127.0.0.1:10000 check\\n\\n\"\n      } ]\n    } ],\n    \"assetsPathAndContent\" : [ ],\n    \"buildSteps\" : [ {\n      \"step\" : \"_assets_1/ /\",\n      \"type\" : \"COPY\"\n    } ],\n    \"command\" : null,\n    \"containerUsersToChangeId\" : [ {\n      \"a\" : \"haproxy\",\n      \"b\" : 70000\n    } ],\n    \"copyWhenStartedPathAndContentFiles\" : [ ],\n    \"entrypoint\" : null,\n    \"environments\" : { },\n    \"executeWhenStartedCommands\" : [ ],\n    \"from\" : \"foilen/fcloud-docker-haproxy:1.6.3-002\",\n    \"hostToIpMapping\" : [ ],\n    \"portsEndpoint\" : { },\n    \"portsExposed\" : {\n      \"80\" : 8080,\n      \"443\" : 4433\n    },\n    \"portsRedirect\" : [ {\n      \"localPort\" : 10000,\n      \"machineContainerEndpoint\" : \"localhost/myphp/HTTP_TCP\",\n      \"toContainerName\" : \"myphp\",\n      \"toEndpoint\" : \"HTTP_TCP\",\n      \"toLocalMachine\" : true,\n      \"toMachine\" : \"localhost\"\n    } ],\n    \"runAs\" : 70000,\n    \"services\" : [ {\n      \"command\" : \"/usr/sbin/haproxy -f /haproxy.cfg\",\n      \"name\" : \"haproxy\",\n      \"runAs\" : null,\n      \"workingDirectory\" : null\n    } ],\n    \"udpPortsExposed\" : { },\n    \"volumes\" : [ ],\n    \"workingDirectory\" : null\n  },\n  \"description\" : \"Web HA Proxy for h1.example.com\",\n  \"domainNames\" : [ ],\n  \"executionCronDetails\" : null,\n  \"executionPolicy\" : \"ALWAYS_ON\",\n  \"name\" : \"infra_web-h1_example_com\",\n  \"resourceCategory\" : \"INFRASTRUCTURE\",\n  \"resourceDescription\" : \"Web HA Proxy for h1.example.com\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"infra_web-h1_example_com\"\n}"
  }, {
    "resource" : "Application | myphp | Apache and PHP application",
    "links" : [ {
      "type" : "INSTALLED_ON",
      "to" : "Machine | h1.example.com | h1.example.com (192.168.0.200)"
    }, {
      "type" : "RUN_AS",
      "to" : "UnixUser | myphp | /home/myphp"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"applicationDefinition\" : {\n    \"_nextAssetId\" : 2,\n    \"assetsBundles\" : [ {\n      \"assetsFolderPath\" : \"_assets_1/\",\n      \"assetsRelativePathAndBinaryContent\" : [ ],\n      \"assetsRelativePathAndTextContent\" : [ {\n        \"a\" : \"/etc/apache2/ports.conf\",\n        \"b\" : \"Listen 8080\\n\"\n      }, {\n        \"a\" : \"/apache-start.sh\",\n        \"b\" : \"#!/bin/bash\\n\\nset -e\\nsource /etc/apache2/envvars\\n/usr/sbin/apache2ctl start\\n\\nuntil [ -f /var/run/apache2/apache2.pid ]\\ndo\\n\\techo Waiting for /var/run/apache2/apache2.pid\\n\\tsleep 1\\ndone\\n\\nAPP_PID=$(cat /var/run/apache2/apache2.pid)\\nwhile [ -e /proc/$APP_PID ]; do sleep 5; done\\n\\necho Apache service is down\\n\"\n      }, {\n        \"a\" : \"/etc/php5/apache2/conf.d/99-fcloud.ini\",\n        \"b\" : \"[PHP]\\nsendmail_path = \\\"/usr/bin/msmtp -C /etc/msmtprc -t --read-envelope-from\\\"\\n\"\n      }, {\n        \"a\" : \"/etc/apache2/sites-enabled/000-default.conf\",\n        \"b\" : \"<VirtualHost *>\\n  DocumentRoot /base\\n    \\n  ErrorLog /var/log/apache2/error.log\\n  CustomLog /var/log/apache2/access.log combined\\n\\n   <Directory /base>\\n    AllowOverride All\\n    Require all granted\\n  </Directory>\\n  \\n  Alias /other /folders/_home_myphp_other\\n    \\n   <Directory /folders/_home_myphp_other>\\n    AllowOverride All\\n    Require all granted\\n  </Directory>\\n  \\n</VirtualHost>\\n\"\n      } ]\n    } ],\n    \"assetsPathAndContent\" : [ ],\n    \"buildSteps\" : [ {\n      \"step\" : \"_assets_1/ /\",\n      \"type\" : \"COPY\"\n    }, {\n      \"step\" : \"chmod 644 /etc/apache2/ports.conf /etc/php5/apache2/conf.d/99-fcloud.ini ; chmod 755 /apache-start.sh\",\n      \"type\" : \"COMMAND\"\n    }, {\n      \"step\" : \"chmod -R 777 /var/log\",\n      \"type\" : \"COMMAND\"\n    }, {\n      \"step\" : \"chown www-data:www-data /var/run/apache2\",\n      \"type\" : \"COMMAND\"\n    } ],\n    \"command\" : null,\n    \"containerUsersToChangeId\" : [ {\n      \"a\" : \"www-data\",\n      \"b\" : 2000\n    } ],\n    \"copyWhenStartedPathAndContentFiles\" : [ ],\n    \"entrypoint\" : null,\n    \"environments\" : { },\n    \"executeWhenStartedCommands\" : [ ],\n    \"from\" : \"foilen/fcloud-docker-apache_php5:1.0.0\",\n    \"hostToIpMapping\" : [ ],\n    \"portsEndpoint\" : {\n      \"8080\" : \"HTTP_TCP\"\n    },\n    \"portsExposed\" : { },\n    \"portsRedirect\" : [ ],\n    \"runAs\" : 2000,\n    \"services\" : [ {\n      \"command\" : \"/apache-start.sh\",\n      \"name\" : \"apache\",\n      \"runAs\" : null,\n      \"workingDirectory\" : null\n    } ],\n    \"udpPortsExposed\" : { },\n    \"volumes\" : [ {\n      \"containerFsFolder\" : \"/base\",\n      \"groupId\" : null,\n      \"hostFolder\" : \"/home/myphp/www\",\n      \"ownerId\" : null,\n      \"permissions\" : null\n    }, {\n      \"containerFsFolder\" : \"/folders/_home_myphp_other\",\n      \"groupId\" : null,\n      \"hostFolder\" : \"/home/myphp/other\",\n      \"ownerId\" : null,\n      \"permissions\" : null\n    }, {\n      \"containerFsFolder\" : \"/var/lock/apache2\",\n      \"groupId\" : 2000,\n      \"hostFolder\" : null,\n      \"ownerId\" : 2000,\n      \"permissions\" : \"755\"\n    } ],\n    \"workingDirectory\" : null\n  },\n  \"description\" : \"Apache and PHP application\",\n  \"domainNames\" : [ ],\n  \"executionCronDetails\" : null,\n  \"executionPolicy\" : \"ALWAYS_ON\",\n  \"name\" : \"myphp\",\n  \"resourceCategory\" : \"INFRASTRUCTURE\",\n  \"resourceDescription\" : \"Apache and PHP application\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"myphp\"\n}"
  }, {
    "resource" : "DnsEntry | h1.example.com / A | 192.168.0.200",
    "links" : [ {
      "type" : "MANAGES",
      "to" : "Domain | h1.example.com | Domain for h1.example.com"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"details\" : \"192.168.0.200\",\n  \"name\" : \"h1.example.com\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"192.168.0.200\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"h1.example.com / A\",\n  \"type\" : \"A\"\n}"
  }, {
    "resource" : "DnsEntry | myphp.example.com / A | 192.168.0.200",
    "links" : [ {
      "type" : "MANAGES",
      "to" : "Domain | myphp.example.com | Domain for myphp.example.com"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"details\" : \"192.168.0.200\",\n  \"name\" : \"myphp.example.com\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"192.168.0.200\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"myphp.example.com / A\",\n  \"type\" : \"A\"\n}"
  }, {
    "resource" : "DnsPointer | myphp.example.com | myphp.example.com",
    "links" : [ {
      "type" : "MANAGES",
      "to" : "DnsEntry | myphp.example.com / A | 192.168.0.200"
    }, {
      "type" : "POINTS_TO",
      "to" : "Machine | h1.example.com | h1.example.com (192.168.0.200)"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"name\" : \"myphp.example.com\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"myphp.example.com\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"myphp.example.com\"\n}"
  }, {
    "resource" : "Domain | example.com | Domain for example.com",
    "links" : [ ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"name\" : \"example.com\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"Domain for example.com\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"example.com\",\n  \"reverseName\" : \"com.example\"\n}"
  }, {
    "resource" : "Domain | h1.example.com | Domain for h1.example.com",
    "links" : [ {
      "type" : "MANAGES",
      "to" : "Domain | example.com | Domain for example.com"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"name\" : \"h1.example.com\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"Domain for h1.example.com\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"h1.example.com\",\n  \"reverseName\" : \"com.example.h1\"\n}"
  }, {
    "resource" : "Domain | myphp.example.com | Domain for myphp.example.com",
    "links" : [ {
      "type" : "MANAGES",
      "to" : "Domain | example.com | Domain for example.com"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"name\" : \"myphp.example.com\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"Domain for myphp.example.com\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"myphp.example.com\",\n  \"reverseName\" : \"com.example.myphp\"\n}"
  }, {
    "resource" : "Machine | h1.example.com | h1.example.com (192.168.0.200)",
    "links" : [ {
      "type" : "MANAGES",
      "to" : "DnsEntry | h1.example.com / A | 192.168.0.200"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"name\" : \"h1.example.com\",\n  \"publicIp\" : \"192.168.0.200\",\n  \"resourceCategory\" : \"INFRASTRUCTURE\",\n  \"resourceDescription\" : \"h1.example.com (192.168.0.200)\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"h1.example.com\"\n}"
  }, {
    "resource" : "UnixUser | infra_web | /home/infra_web",
    "links" : [ ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"hashedPassword\" : null,\n  \"homeFolder\" : \"/home/infra_web\",\n  \"id\" : 70000,\n  \"name\" : \"infra_web\",\n  \"resourceCategory\" : \"INFRASTRUCTURE\",\n  \"resourceDescription\" : \"/home/infra_web\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"infra_web\",\n  \"shell\" : null\n}"
  }, {
    "resource" : "UnixUser | myphp | /home/myphp",
    "links" : [ ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"hashedPassword\" : null,\n  \"homeFolder\" : \"/home/myphp\",\n  \"id\" : 2000,\n  \"name\" : \"myphp\",\n  \"resourceCategory\" : \"INFRASTRUCTURE\",\n  \"resourceDescription\" : \"/home/myphp\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"myphp\",\n  \"shell\" : null\n}"
  }, {
    "resource" : "Website | myphp | myphp.example.com",
    "links" : [ {
      "type" : "INSTALLED_ON",
      "to" : "Machine | h1.example.com | h1.example.com (192.168.0.200)"
    }, {
      "type" : "MANAGES",
      "to" : "DnsPointer | myphp.example.com | myphp.example.com"
    }, {
      "type" : "POINTS_TO",
      "to" : "ApachePhp | myphp | Apache and PHP application"
    }, {
      "type" : "POINTS_TO",
      "to" : "Application | myphp | Apache and PHP application"
    } ],
    "tags" : [ ],
    "contentInJson" : "{\n  \"applicationEndpoint\" : \"HTTP_TCP\",\n  \"domainNames\" : [ \"myphp.example.com\" ],\n  \"https\" : false,\n  \"name\" : \"myphp\",\n  \"resourceCategory\" : \"NET\",\n  \"resourceDescription\" : \"myphp.example.com\",\n  \"resourceEditorName\" : null,\n  \"resourceName\" : \"myphp\"\n}"
  } ]
}